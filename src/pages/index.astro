---
export const prerender = true;
import { pizzas } from "../../data/pizzas.ts";
import Layout from "../components/Layout.astro";
import "../styles/global.css";

const pageTitle = "Pizzeria à Capbreton - Livraison et Pizzas à emporter";
const pageDescription = "La Prima Pizza à Capbreton - Pizzas artisanales de qualité préparées par nos chefs passionnés. Livraison et à emporter. 77 avenue Georges Pompidou, 40130 Capbreton. Ouvert 18h30-22h sauf lundi.";
---

<Layout title={pageTitle} description={pageDescription}>
	<!-- Header -->
	<header class="bg-red-600 text-white shadow-lg header-slide-down" role="banner">
		<div class="container mx-auto px-4 py-6">
			<div
				class="flex flex-col md:flex-row justify-between items-center"
			>
				<div
					class="text-center md:text-left mb-4 md:mb-0 animate-fade-in-left"
				>
					<h1 class="text-4xl font-bold mb-2">
						🍕 La Prima Pizza
					</h1>
					<p class="text-xl">Pizzeria à Capbreton</p>
				</div>
				<div
					class="text-center md:text-right animate-fade-in-right delay-200"
				>
					<address class="not-italic">
						<div class="mb-2">
							<p class="font-semibold">
								📍 77 avenue Georges Pompidou
							</p>
							<p>40130 Capbreton</p>
						</div>
						<div class="mb-2">
							<p class="font-semibold">
								📞 <a href="tel:+33558749495" class="hover:underline">05 58 74 94 95</a>
							</p>
						</div>
						<div>
							<p class="font-semibold">🕐 18h30 - 22h</p>
							<p class="text-sm">Fermé le lundi</p>
						</div>
					</address>
				</div>
			</div>
		</div>
	</header>

	<!-- Hero Section -->
	<main>
		<section
			class="bg-gradient-to-r from-red-500 to-red-600 text-white py-16"
			aria-labelledby="hero-title"
		>
			<div class="container mx-auto px-4 text-center">
				<h2 id="hero-title" class="text-5xl font-bold mb-6 animate-fade-in-up font-display">
					Benvenuto à la Prima Pizza !
				</h2>

				<p
					class="text-xl mb-8 max-w-4xl mx-auto leading-relaxed animate-fade-in-up delay-300"
				>
					La pizzeria à Capbreton et Hossegor ! Nous sommes fiers de
					vous proposer des pizzas artisanales de qualité, préparées
					avec soin par nos chefs passionnés.
				</p>
				<p
					class="text-lg mb-8 max-w-3xl mx-auto animate-fade-in-up delay-500"
				>
					Nos pizzaïolos, originaires de Capbreton, mettent leur
					expertise et leur savoir-faire à votre service pour vous
					offrir des pizzas savoureuses et uniques.
				</p>
				<div
					class="flex flex-col sm:flex-row gap-4 justify-center animate-fade-in-up delay-700"
				>
					<a
						href="tel:+33558749495"
						class="bg-white text-red-600 px-8 py-3 rounded-lg font-semibold text-lg hover:bg-gray-100 transition-colors btn-hover-grow hover-glow font-display"
						aria-label="Appeler La Prima Pizza pour commander"
					>
						<span class="emoji-rotate inline-block" aria-hidden="true">📞</span> Commander
						par téléphone
					</a>
					<a
						href="#menu"
						class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold text-lg hover:bg-white hover:text-red-600 transition-colors btn-hover-grow font-display"
						aria-label="Voir la carte des pizzas"
					>
						<span class="emoji-rotate inline-block" aria-hidden="true">🍕</span> Voir notre
						carte
					</a>
				</div>
			</div>
		</section>

		<!-- Services -->
		<section class="py-12 bg-white section-fade-in" aria-labelledby="services-title">
			<div class="container mx-auto px-4">
				<h2 id="services-title" class="sr-only">Nos services</h2>
				<div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
					<article
						class="text-center p-6 bg-red-50 rounded-lg hover-lift animate-scale-in"
					>
						<div class="text-4xl mb-4 emoji-bounce" aria-hidden="true">🏠</div>
						<h3 class="text-2xl font-bold mb-2 text-red-600">
							Livraison de pizzas
						</h3>
						<p class="text-gray-700">
							Nous livrons directement chez vous dans les environs
							de Capbreton et Hossegor
						</p>
					</article>
					<article
						class="text-center p-6 bg-red-50 rounded-lg hover-lift animate-scale-in delay-200"
					>
						<div class="text-4xl mb-4 emoji-bounce delay-300" aria-hidden="true">
							🥡
						</div>
						<h3 class="text-2xl font-bold mb-2 text-red-600">
							Pizzas à emporter
						</h3>
						<p class="text-gray-700">
							Commandez et venez récupérer vos pizzas fraîchement
							préparées
						</p>
					</article>
				</div>
			</div>
		</section>

		<!-- Menu Section -->
		<section id="menu" class="py-16 bg-gray-50 section-fade-in" aria-labelledby="menu-title">
			<div class="container mx-auto px-4">
				<header class="text-center mb-12">
					<h2
						id="menu-title"
						class="text-4xl font-bold mb-4 text-gray-800 animate-fade-in-up font-display"
					>
						Nos Piiiizzas <span class="emoji-rotate inline-block" aria-hidden="true"
							>🤌</span
						>
					</h2>
					<p
						class="text-lg text-gray-600 animate-fade-in-up delay-200"
					>
						Toutes nos pizzas sont accompagnées d'olives noires •
						Prix TTC
					</p>
				</header>

				<div
					class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto"
					role="list"
					aria-label="Liste des pizzas"
				>
					{
						pizzas.map((pizza, index) => (
							<article
								class={`bg-white rounded-lg shadow-md p-6 pizza-card hover-lift hover:shadow-2xl transition-all duration-300 animate-fade-in-up delay-${Math.min(800, (index % 6) * 100)}`}
								role="listitem"
							>
								<header class="flex justify-between items-start mb-3">
									<h3 class="text-xl font-bold text-red-600 font-display">
										{pizza.name}
									</h3>
									<span 
										class="text-2xl font-bold text-gray-800 animate-pulse-slow"
										aria-label={`Prix: ${pizza.price} euros`}
									>
										{pizza.price}€
									</span>
								</header>
								<p class="text-gray-700 text-sm leading-relaxed">
									<span class="sr-only">Ingrédients:</span>
									{pizza.ingredients.join(", ")}
								</p>
							</article>
						))
					}
				</div>

				<footer class="text-center mt-12 animate-fade-in-up delay-300">
					<p class="text-lg text-gray-700 mb-6">
						Découvrez notre carte variée de pizzas, élaborées avec
						des ingrédients frais et de qualité.
					</p>
					<a
						href="tel:+33558749495"
						class="bg-red-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-red-700 transition-colors inline-block btn-hover-grow hover-glow btn-pulse font-display"
						aria-label="Appeler maintenant pour commander vos pizzas"
					>
						<span class="emoji-rotate inline-block" aria-hidden="true">📞</span> Commander
						maintenant
					</a>
					<p
						class="text-sm text-gray-600 mt-4 animate-fade-in-up delay-500"
					>
						N'attendez plus pour commander en nous téléphonant au 
						<a href="tel:+33558749495" class="font-semibold hover:underline">05 58 74 94 95</a> !
					</p>
				</footer>
			</div>
		</section>
	</main>

	<!-- Footer -->
	<footer class="bg-gray-800 text-white py-12 footer-slide-up" role="contentinfo">
		<div class="container mx-auto px-4">
			<div class="grid md:grid-cols-3 gap-8">
				<div class="animate-fade-in-left delay-100">
					<h3 class="text-2xl font-bold mb-4">
						<span class="emoji-rotate inline-block" aria-hidden="true">🍕</span> La
						Prima Pizza
					</h3>
					<p class="text-gray-300 mb-4">
						Pizzeria artisanale à Capbreton depuis plus de 2
						ans. Nous vous proposons des pizzas de qualité
						préparées avec passion.
					</p>
				</div>
				<div class="animate-fade-in-up delay-300">
					<h4 class="text-xl font-semibold mb-4">
						<span class="emoji-rotate inline-block" aria-hidden="true">📍</span> Nous
						trouver
					</h4>
					<address class="text-gray-300 not-italic">
						<p class="mb-2">
							77 avenue Georges Pompidou
						</p>
						<p class="mb-2">40130 Capbreton</p>
						<p class="mb-2">
							<span class="emoji-rotate inline-block" aria-hidden="true">📞</span> 
							<a href="tel:+33558749495" class="hover:underline">05 58 74 94 95</a>
						</p>
					</address>
				</div>
				<div class="animate-fade-in-right delay-500">
					<h4 class="text-xl font-semibold mb-4">
						<span class="emoji-rotate inline-block" aria-hidden="true">🕐</span> Horaires
					</h4>
					<div class="text-gray-300">
						<p class="mb-2">Mardi au Dimanche</p>
						<p class="mb-2">18h30 - 22h00</p>
						<p class="text-red-400 font-semibold">Fermé le lundi</p>
					</div>
				</div>
			</div>
			<div
				class="border-t border-gray-700 mt-8 pt-8 text-center animate-fade-in-up delay-700"
			>
				<p class="text-gray-400">
					© 2024 La Prima Pizza - Tous droits réservés |
					<a
						href="/mentions-legales"
						class="text-red-400 hover:text-red-300 link-underline"
						>Mentions légales</a
					>
				</p>
				<p class="text-gray-500 text-sm mt-2">
					Buon appetito ! <span class="emoji-rotate inline-block" aria-hidden="true"
						>🇮🇹</span
					>
				</p>
			</div>
		</div>
	</footer>

	<!-- Script pour les animations au scroll -->
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			// Animation des cartes pizza au scroll
			const pizzaCards = document.querySelectorAll(".pizza-card");
			const sections = document.querySelectorAll(".section-fade-in");

			const observerOptions = {
				threshold: 0.1,
				rootMargin: "0px 0px -50px 0px",
			};

			const observer = new IntersectionObserver((entries) => {
				entries.forEach((entry) => {
					if (entry.isIntersecting) {
						entry.target.classList.add("visible", "in-view");
					}
				});
			}, observerOptions);

			// Observer pour les cartes pizza
			pizzaCards.forEach((card) => {
				observer.observe(card);
			});

			// Observer pour les sections
			sections.forEach((section) => {
				observer.observe(section);
			});

			// Animation de parallax subtil
			window.addEventListener("scroll", () => {
				const scrolled = window.pageYOffset;
				const parallaxElements = document.querySelectorAll(
					".parallax",
				) as NodeListOf<HTMLElement>;

				parallaxElements.forEach((element) => {
					const speed = 0.5;
					const yPos = -(scrolled * speed);
					element.style.transform = `translateY(${yPos}px)`;
				});
			});

			// Animation des emojis au hover
			const emojis = document.querySelectorAll(
				".emoji-rotate",
			) as NodeListOf<HTMLElement>;
			emojis.forEach((emoji) => {
				emoji.addEventListener("mouseenter", () => {
					emoji.style.transform = "rotate(360deg) scale(1.3)";
				});
				emoji.addEventListener("mouseleave", () => {
					emoji.style.transform = "rotate(0deg) scale(1)";
				});
			});
		});
	</script>
</Layout>
